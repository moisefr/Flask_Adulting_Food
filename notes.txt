General
Libraries
OS - helps me create and access files from the directory that the code sits on or the computers directory
flask - major framework handles RESTful API architecture with request, response, template rendering
pymango - MongoDB library with python
json - formats dictionary data to json
bson.objectID - 🧐learn more
secure file name werkzeug.utils - helps encode your file names as you save them
wtforms - Flask forms library that helps with filed validation and Form object mapping
try except in python is like try catch in node.JS 
    we attempy an action if that attempt fails we throw an exception and inform the user why
you need to connect to the DB via the pymongo MongoClient
    connection string you get from MongoDb collection set up
    use client boiler plate code
    set db to the main collection you're using for the project

File uploads 😥😐😑 this is where OS and request.files is clutch
1. Create a directory called uploads with an if not tree
2. set app config upload folder to uploads variable
3. the trick is to render the upload template and pass on the key id so a picture can go with the id
4. You also need to make the upload image part of the form a setperate route on the multi part form because 
    text input gets one post request
    then you need another post request for the image input
        this post then redirects to the upload/id endpoint
        This is where you learned what the action keyword of an html form does
            it redirects the form data to a given endpoint once you submit
            we want this endpoint to be the same endpoint that deals with file uploads
            http://localhost:5000/upload/{{id}} => double curly brace jinja syntax for the win!
        Now I want to associate each image upload to an ID so when you save the file you want to append the id to the file.name
        secure_filename(id + "-" + f.filename)
    Now I want to write the new name of the image in the static folder back to the img_uri attribute of the key model
        use os.chdir to switch to the uploads directory
        slice through all files in the directory, match it against an img search variable
        im search is just a python string slide, for the id part of the file name
        if that matches the incoking id, then do a put/update action against the database
        to upload the im_URI attribute!!!
    Finally we want to render those images, not so straight forward, need to use url for under default static folder 
        then pass on the file name that should be saved to URI attributes
        <img src={{ url_for('static', filename=ingredient.img_URI) }} alt=”Bananas”  width="60" height="60">


11/18/21

<!-- Profile DropDown -->
            <!-- <div class="dropdown">
                <a class=" dropdown-toggle" style="color:rgba(255, 255, 255, 0.55)" id="dropdownMenuLink"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    UserID: {{g.user.profile.firstName}}
                </a>

                <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <li><a class="dropdown-item" href="{{url_for('userprofile')}}">Profile</a></li>
                   

                </ul>
            </div> -->

OKTA Claims:
dict_keys(['sub', 'name', 'locale', 'email', 'preferred_username', 'given_name', 'family_name', 'zoneinfo', 'updated_at', 'email_verified'])

Krogger Location called{"data":[{"locationId":"09790273","chain":"BP","address":{"addressLine1":"3608 W CHESTER PIKE","city":"NEWTOWN SQUARE","state":"PA","zipCode":"19073"},"geolocation":{"latitude":39.986509,"longitude":-75.400145,"latLng":"39.986509,-75.400145"},"name":"BP","departments":[{"departmentId":"10","name":"Gas Station"}]}],"meta":{"pagination":{"start":1,"limit":1,"total":1}}}

{"data":[
    {"locationId":"09790273","chain":"BP","address":{"addressLine1":"3608 W CHESTER PIKE","city":"NEWTOWN SQUARE","state":"PA","zipCode":"19073"},"geolocation":{"latitude":39.986509,"longitude":-75.400145,"latLng":"39.986509,-75.400145"},"name":"BP","departments":[{"departmentId":"10","name":"Gas Station"}]},
    {"locationId":"70200835","chain":"JEWELRY","address":{"addressLine1":"502 Christiana Mall","city":"Newark","state":"DE","zipCode":"19702","county":"NEW CASTLE COUNTY"},"geolocation":{"latitude":39.678008,"longitude":-75.652355,"latLng":"39.678008,-75.652355"},"name":"Littman Jewelers - Christiana Mall","hours":{"timezone":"America/New_York","gmtOffset":"(UTC-05:00) Eastern Time (US Canada)","open24":false,"monday":{"open":"10:00","close":"21:00","open24":false},"tuesday":{"open":"10:00","close":"21:00","open24":false},"wednesday":{"open":"10:00","close":"21:00","open24":false},"thursday":{"open":"10:00","close":"21:00","open24":false},"friday":{"open":"10:00","close":"21:00","open24":false},"saturday":{"open":"10:00","close":"21:00","open24":false},"sunday":{"open":"11:00","close":"18:00","open24":false}},"phone":"3023667555"},{"locationId":"70200869","chain":"JEWELRY","address":{"addressLine1":"4403 Black Horse Pike #1096","city":"Mays Landing","state":"NJ","zipCode":"08330","county":"ATLANTIC COUNTY"},"geolocation":{"latitude":39.453913,"longitude":-74.643055,"latLng":"39.453913,-74.643055"},"name":"Littman Jewelers - Hamilton Mall","hours":{"timezone":"America/New_York","gmtOffset":"(UTC-05:00) Eastern Time (US Canada)","open24":false,"monday":{"open":"10:00","close":"21:00","open24":false},"tuesday":{"open":"10:00","close":"21:00","open24":false},"wednesday":{"open":"10:00","close":"21:00","open24":false},"thursday":{"open":"10:00","close":"21:00","open24":false},"friday":{"open":"10:00","close":"21:00","open24":false},"saturday":{"open":"10:00","close":"21:00","open24":false},"sunday":{"open":"11:00","close":"18:00","open24":false}},"phone":"6096419111"},{"locationId":"70200931","chain":"JEWELRY","address":{"addressLine1":"132 Palmer Park Mall","city":"Easton","state":"PA","zipCode":"18045","county":"NORTHAMPTON COUNTY"},"geolocation":{"latitude":40.696598,"longitude":-75.258791,"latLng":"40.696598,-75.258791"},"name":"Littman Jewelers - Palmer Park Mall","hours":{"timezone":"America/New_York","gmtOffset":"(UTC-05:00) Eastern Time (US Canada)","open24":false,"monday":{"open":"10:00","close":"21:00","open24":false},"tuesday":{"open":"10:00","close":"21:00","open24":false},"wednesday":{"open":"10:00","close":"21:00","open24":false},"thursday":{"open":"10:00","close":"21:00","open24":false},"friday":{"open":"10:00","close":"21:00","open24":false},"saturday":{"open":"10:00","close":"21:00","open24":false},"sunday":{"open":"11:00","close":"18:00","open24":false}},"phone":"6102537465"},
    {"locationId":"09790443","chain":"BP","address":{"addressLine1":"1001 PULASKI HWY","city":"HAVRE DE GRACE","state":"MD","zipCode":"21078"},"geolocation":{"latitude":39.54622,"longitude":-76.10734,"latLng":"39.54622,-76.10734"},"name":"BP","departments":[{"departmentId":"10","name":"Gas Station"}]}],"meta":{"pagination":{"start":1,"limit":5,"total":5}}}


    <form method="POST"  action="">
    <div class="form-group">
        <div class="col"><input type="search" placeholder="Search" aria-label="Search" name = "dasearch"></div>
    </div>
    <!-- <div class="form-group">
      <label for="ingredients">Search for Ingredient</label>
      <input list="ingredients" name="ingredients" id="ingredients">
      <datalist id="ingredients">
        {% for ingredient in ingredients % }
          <option value="{{ingredients.title}}">
          <option value="{{ingredients.state}}">
          <option value="{{ingredients.type}}">
        {% endfor % }
      </datalist> 
    </div> -->
    <p><input type="submit" class="btn btn-primary" value="Submit"></p>
  </form>