{% extends 'layout.html' %}
{% block body %} 
<h1>{{groccery.title}}</h1>
<a href="/groceries/update/{{groccery._id}}">
  <button type="button" class="btn btn-primary">Update List</button>
</a> 
<div>
    {% for type in types %}
          <button class="accordion">{{type}}</button>
          <div class="panel"> <br><br>
            <table class="table table-dark">
          {% for ingredient in ingredients%}
            {% if type == ingredient.ingredient.type %}
                
                    <thead>
                            <tr>
                                <td class="tg-0lax">Ingredient</td>
                                <td class="tg-0lax">Image</td>
                                <td class="tg-0lax">Quanity</td>
                                <td class="tg-0lax">Unit</td>
                                <td class="tg-0lax">Unit Price</td>
                                <td class="tg-0lax">Total Price</td>
                            </tr>
                    
                            <tr>
                                <td class="tg-0lax"><a href="/ingredient/{{ingredient.ingredient._id}}">{{ingredient.ingredient.title}}</a></td>
                                <td class="tg-0lax"><img src ={{ url_for('static', filename=ingredient.ingredient.img_URI)}} height="50" width="50" id="ingredient-image" /></td>
                                <td class="tg-0lax"><h3>{{ingredient.quantity}}</h3></td>
                                <td class="tg-0lax"><h3>{{ingredient.unit}}</h3></td>
                                <td class="tg-0lax"><h3>{{ingredient.price}}</h3></td>
                                <td class="tg-0lax"><h3>{{ingredient.total}}</h3></td>
                                <!-- <td class="tg-0lax"><input type="number" id='quantity' step="0.01" name="price_{{ingredient.title}}" min="1" style="width: 75px;"></td> -->
                            </tr>
                    </thead>
                  
            {% endif %}
          {% endfor %}
        </table>
          </div>
    {% endfor %}
  </div>

<style>
      /* Style the buttons that are used to open and close the accordion panel */
    .accordion {
    background-color: #eee;
    color: #444;
    cursor: pointer;
    padding: 18px;
    width: 100%;
    text-align: left;
    border: none;
    outline: none;
    transition: 0.4s;
    }

    /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
    .active, .accordion:hover {
    background-color: #ccc;
    }

    /* Style the accordion panel. Note: hidden by default */
    .panel {
    padding: 0 18px;
    background-color: white;
    display: none;
    overflow: hidden;
    }
</style>
<script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
        /* Toggle between adding and removing the "active" class,
        to highlight the button that controls the panel */
        this.classList.toggle("active");

        /* Toggle between hiding and showing the active panel */
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
        panel.style.display = "none";
        } else {
        panel.style.display = "block";
        }
    });
    }
</script>
{% endblock %}